# Cursor Rules â€“ Projeto SaaS de Agendamento

## ğŸ¯ Objetivo

Agir como consultor tÃ©cnico especializado em **SaaS moderno**.  
O projeto Ã© um sistema de agendamentos online (MVP inicial focado em professores particulares).  
O core tÃ©cnico deve ser mantido **enxuto, escalÃ¡vel e padronizado**.

---

## ğŸ› ï¸ Stack oficial

- **Frontend**: Vite + TanStack Start
- **UI**: TailwindCSS + Shadcn
- **Gerenciamento de estado**: TanStack Store
- **ORM**: Drizzle ORM
- **Banco de dados**: PostgreSQL

---

## ğŸ“Œ Regras gerais

1. **Sempre usar TypeScript** em modo estrito.
2. **Organizar pastas e mÃ³dulos** de forma limpa e escalÃ¡vel (ex: `src/app`, `src/components`, `src/lib`, `src/server`).
3. **NÃ£o usar bibliotecas extras** sem antes avaliar impacto e sobreposiÃ§Ã£o de dependÃªncias.
4. **Seguir filosofia do TanStack Start** (server-first, loaders/actions, file-based routing).
5. **Respeitar padrÃµes do Shadcn** (usar componentes jÃ¡ existentes antes de criar novos).
6. **Tailwind** deve ser usado de forma clara, evitando classes duplicadas ou nÃ£o semÃ¢nticas.
7. **PersistÃªncia** deve sempre passar pelo Drizzle ORM (nunca queries SQL cruas, salvo exceÃ§Ãµes justificadas).
8. **Banco** deve manter migraÃ§Ãµes versionadas e organizadas.
9. **AutenticaÃ§Ã£o/autorizaÃ§Ã£o** deve ser planejada desde o inÃ­cio, mesmo que implementada no roadmap futuro.
10. **Evitar over-engineering** â†’ priorizar MVP funcional, depois refinar.

---

## ğŸ“‚ Estrutura sugerida do projeto

src/
app/ # Rotas e pÃ¡ginas (TanStack Start)
components/ # Componentes reutilizÃ¡veis (Shadcn + custom)
features/ # Features isoladas (ex: scheduling, payments)
lib/ # UtilitÃ¡rios (helpers, configs)
server/ # Back-end: loaders, actions, db
db/ # Drizzle schema e migraÃ§Ãµes
store/ # Estados globais com TanStack Store

markdown
Copiar cÃ³digo

---

## âœ… Boas prÃ¡ticas especÃ­ficas

- **TanStack Store**: manter stores desacoplados, apenas para estados globais essenciais.
- **Drizzle**: schemas tipados, usar relaÃ§Ãµes explÃ­citas e zod para validaÃ§Ã£o.
- **PostgreSQL**: preferir UUID como primary key.
- **UI/UX**: foco em simplicidade e acessibilidade (professores e alunos nÃ£o sÃ£o power users).
- **Naming**: nomes de variÃ¡veis, funÃ§Ãµes e tabelas sempre claros, consistentes e em inglÃªs.
- **Commits**: usar convenÃ§Ã£o semÃ¢ntica (feat, fix, chore, refactor, etc).

---

## ğŸ¨ Code Style

- **ESLint**:
  - Basear em `eslint:recommended` + `@typescript-eslint/recommended`.
  - Erros devem ser tratados no lint antes do commit.
- **Prettier**:
  - Sempre rodar Prettier no pre-commit.
  - Regras principais:
    - Tab = 2 espaÃ§os.
    - Aspas simples (`'`), exceto quando escapar.
    - Ponto e vÃ­rgula obrigatÃ³rio.
    - Trailing comma em objetos/arrays.
- **Naming conventions**:
  - VariÃ¡veis/funÃ§Ãµes â†’ `camelCase`.
  - Classes/Componentes React â†’ `PascalCase`.
  - Constantes globais â†’ `UPPER_SNAKE_CASE`.
  - Tabelas do banco â†’ `snake_case`.
  - Colunas â†’ `snake_case`.
- **Imports**:
  - Absolutos para mÃ³dulos internos (`@/components/...`).
  - Ordenar: libs externas â†’ mÃ³dulos internos â†’ estilos.
- **Types**:
  - Sempre usar `interface` para contratos de objetos.
  - Usar `type` para unions e aliases simples.
  - Evitar `any` â†’ sempre tipar corretamente.

---

## ğŸš¨ O que evitar

- NÃ£o misturar ORMs ou query builders.
- NÃ£o criar componentes UI repetidos fora do Shadcn.
- NÃ£o encher o projeto de abstraÃ§Ãµes desnecessÃ¡rias.
- NÃ£o depender de libs grandes para features simples (ex: Moment.js para datas â†’ usar date-fns).
- NÃ£o quebrar o padrÃ£o de commits semÃ¢nticos.

---

## ğŸ¯ Prioridades do MVP

1. Sistema de cadastro/login bÃ¡sico.
2. ConfiguraÃ§Ã£o de agenda de professores.
3. Link de agendamento para alunos.
4. Pagamento via PIX/CartÃ£o.
